{% extends 'core/base.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>Projects</h1>
  {% if user.is_authenticated %}
    <a href="{% url 'project_create' %}" class="btn btn-success">Create Project</a>
  {% endif %}
</div>

<form method="get" class="row g-2 mb-3">
  <div class="col-auto">
    <input class="form-control" name="q" placeholder="Search..." value="{{ q }}">
  </div>
  <div class="col-auto">
    <input class="form-control" name="university" placeholder="University..." value="{{ uni }}">
  </div>
  <div class="col-auto">
    <button class="btn btn-primary">Filter</button>
  </div>
</form>

<ul class="list-group">
  {% for p in projects %}
  <li class="list-group-item">
    <h5><a href="{% url 'project_detail' p.pk %}">{{ p.title }}</a></h5>
    <p>{{ p.description|truncatechars:200 }}</p>
    <small>Owner: {{ p.owner.username }} | University: {{ p.university }} | Tags: {{ p.tags }}</small>
  </li>
  {% empty %}
  <li class="list-group-item">No projects found.</li>
  {% endfor %}
</ul>
{% endblock %}
